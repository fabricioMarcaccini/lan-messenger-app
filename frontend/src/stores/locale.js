import { defineStore } from 'pinia'
import { ref, computed } from 'vue'

export const useLocaleStore = defineStore('locale', () => {
    const currentLang = ref(localStorage.getItem('language') || 'en')

    const translations = {
        en: {
            nav: {
                chat: 'Messages',
                network: 'Network',
                settings: 'Settings',
                admin: 'Admin',
                scanner: 'Scanner',
                scannerTools: 'Network Tools',
                viewAll: 'View all devices'
            },
            chat: {
                title: 'Messages',
                search: 'Search conversations...',
                noConversations: 'No conversations yet',
                selectConversation: 'Select a conversation to start messaging',
                typeMessage: 'Type a message...',
                send: 'Send',
                newChat: 'New Chat',
                userSearch: 'Search user to chat...',
                noUsers: 'No users found',
                online: 'Online',
                now: 'Now'
            },
            settings: {
                title: 'Settings',
                subtitle: 'Manage your profile, preferences and application appearance.',
                personalInfo: 'Personal Info',
                notifications: 'Notifications',
                appearance: 'Appearance',
                save: 'Save Changes',
                saving: 'Saving...',
                logout: 'Sign Out',
                displayName: 'Display Name',
                email: 'Email Address',
                department: 'Department',
                position: 'Position',
                desktopNotif: 'Desktop Notifications',
                desktopNotifDesc: 'Show popups when message received',
                soundEffects: 'Sound Effects',
                soundEffectsDesc: 'Play sound on incoming message',
                theme: 'Theme',
                language: 'Language',
                themes: {
                    dark: 'Dark',
                    light: 'Light',
                    system: 'System'
                },
                security: 'Security',
                currentPassword: 'Current Password',
                currentPasswordPlaceholder: 'Enter your current password',
                newPassword: 'New Password',
                newPasswordPlaceholder: 'Enter your new password',
                confirmPassword: 'Confirm New Password',
                confirmPasswordPlaceholder: 'Confirm your new password',
                changePassword: 'Change Password',
                passwordMismatch: 'Passwords do not match',
                passwordTooShort: 'Password must be at least 6 characters'
            },
            profile: {
                connected: 'CONNECTED',
                change: 'Change',
                verified: 'Verified Employee',
                security: '2FA Enabled',
                status: 'Status',
                saveChanges: 'Save Changes',
                darkMode: 'Dark Mode',
                darkDescription: 'Easy on the eyes',
                lightDescription: 'Bright and clear'
            },
            auth: {
                logout: 'Sign Out'
            },
            login: {
                title: 'Enterprise Connect',
                subtitle: 'Secure LAN Messenger Access',
                username: 'Employee ID / Username',
                password: 'Password',
                remember: 'Remember me',
                forgot: 'Forgot password?',
                signin: 'Sign In',
                contact: 'Contact IT Support',
                secure: 'Secure Environment',
                error: 'Please enter username and password',
                forgotTitle: 'Forgot your password?',
                forgotSubtitle: 'Enter your username to request a reset',
                forgotInput: 'Username or Email',
                forgotInfo: 'An administrator will be notified and will reset your password.',
                forgotSubmit: 'Request Reset',
                forgotSuccessTitle: 'Request Sent!',
                forgotClose: 'Close'
            },
            network: {
                title: 'Network Discovery',
                scan: 'Scan Network',
                scanning: 'Scanning...',
                devices: 'Devices Found',
                total: 'Total Devices',
                online: 'Online Now',
                latency: 'Avg Latency',
                filterOnline: 'Show Online Only',
                search: 'Search devices...',
                hostname: 'Hostname',
                ip: 'IP Address',
                mac: 'MAC Address',
                status: 'Status',
                action: 'Action',
                linkUser: 'Link User',
                unlink: 'Unlink',
                unknown: 'Unknown Device'
            },
            admin: {
                title: 'User Management',
                subtitle: 'Manage access, roles, and permissions for enterprise users.',
                addUser: 'Add New User',
                totalUsers: 'Total Users',
                activeNow: 'Active Now',
                messagesToday: 'Messages Today',
                networkDevices: 'Network Devices',
                searchUsers: 'Search users by name, email or role...',
                user: 'User',
                role: 'Role',
                status: 'Status',
                lastActive: 'Last Active',
                actions: 'Actions',
                active: 'Active',
                inactive: 'Inactive',
                showing: 'Showing',
                to: 'to',
                of: 'of',
                users: 'users',
                addNewUser: 'Add New User',
                editUser: 'Edit User',
                username: 'Username',
                email: 'Email',
                fullName: 'Full Name',
                password: 'Password',
                department: 'Department',
                position: 'Position',
                createUser: 'Create User',
                saveChanges: 'Save Changes',
                creating: 'Creating...',
                saving: 'Saving...',
                confirmDelete: 'Are you sure you want to deactivate this user?',
                justNow: 'Just now',
                minsAgo: 'mins ago',
                hoursAgo: 'hours ago',
                daysAgo: 'days ago',
                never: 'Never'
            }
        },
        pt: {
            nav: {
                chat: 'Mensagens',
                network: 'Rede',
                settings: 'Configurações',
                admin: 'Admin',
                scanner: 'Scanner',
                scannerTools: 'Ferramentas de Rede',
                viewAll: 'Ver todos dispositivos'
            },
            chat: {
                title: 'Mensagens',
                search: 'Buscar conversas...',
                noConversations: 'Nenhuma conversa ainda',
                selectConversation: 'Selecione uma conversa para começar',
                typeMessage: 'Digite uma mensagem...',
                send: 'Enviar',
                newChat: 'Nova Conversa',
                userSearch: 'Buscar usuário...',
                noUsers: 'Nenhum usuário encontrado',
                online: 'Online',
                now: 'Agora'
            },
            settings: {
                title: 'Configurações',
                subtitle: 'Gerencie seu perfil, preferências e aparência.',
                personalInfo: 'Informações Pessoais',
                notifications: 'Notificações',
                appearance: 'Aparência',
                save: 'Salvar Alterações',
                saving: 'Salvando...',
                logout: 'Sair',
                displayName: 'Nome de Exibição',
                email: 'Endereço de Email',
                department: 'Departamento',
                position: 'Cargo',
                desktopNotif: 'Notificações Desktop',
                desktopNotifDesc: 'Mostrar popups ao receber mensagem',
                soundEffects: 'Efeitos Sonoros',
                soundEffectsDesc: 'Tocar som ao receber mensagem',
                theme: 'Tema',
                language: 'Idioma',
                themes: {
                    dark: 'Escuro',
                    light: 'Claro',
                    system: 'Sistema'
                },
                security: 'Segurança',
                currentPassword: 'Senha Atual',
                currentPasswordPlaceholder: 'Digite sua senha atual',
                newPassword: 'Nova Senha',
                newPasswordPlaceholder: 'Digite sua nova senha',
                confirmPassword: 'Confirmar Nova Senha',
                confirmPasswordPlaceholder: 'Confirme sua nova senha',
                changePassword: 'Alterar Senha',
                passwordMismatch: 'As senhas não coincidem',
                passwordTooShort: 'A senha deve ter pelo menos 6 caracteres'
            },
            profile: {
                connected: 'CONECTADO',
                change: 'Alterar',
                verified: 'Funcionário Verificado',
                security: '2FA Ativado',
                status: 'Status',
                saveChanges: 'Salvar Alterações',
                darkMode: 'Modo Escuro',
                darkDescription: 'Confortável para os olhos',
                lightDescription: 'Claro e nítido'
            },
            auth: {
                logout: 'Sair'
            },
            login: {
                title: 'Enterprise Connect',
                subtitle: 'Acesso Seguro LAN Messenger',
                username: 'ID Funcionário / Usuário',
                password: 'Senha',
                remember: 'Lembrar de mim',
                forgot: 'Esqueceu a senha?',
                signin: 'Entrar',
                contact: 'Contatar Suporte TI',
                secure: 'Ambiente Seguro',
                error: 'Por favor entre usuário e senha',
                forgotTitle: 'Esqueceu sua senha?',
                forgotSubtitle: 'Informe seu usuário para solicitar reset',
                forgotInput: 'Usuário ou Email',
                forgotInfo: 'Um administrador será notificado e irá resetar sua senha.',
                forgotSubmit: 'Solicitar Reset',
                forgotSuccessTitle: 'Solicitação Enviada!',
                forgotClose: 'Fechar'
            },
            network: {
                title: 'Descoberta de Rede',
                scan: 'Escanear Rede',
                scanning: 'Escaneando...',
                devices: 'Dispositivos Encontrados',
                total: 'Total Dispositivos',
                online: 'Online Agora',
                latency: 'Latência Média',
                filterOnline: 'Mostrar Apenas Online',
                search: 'Buscar dispositivos...',
                hostname: 'Nome do Host',
                ip: 'Endereço IP',
                mac: 'Endereço MAC',
                status: 'Status',
                action: 'Ação',
                linkUser: 'Vincular Usuário',
                unlink: 'Desvincular',
                unknown: 'Dispositivo Desconhecido'
            },
            admin: {
                title: 'Gerenciamento de Usuários',
                subtitle: 'Gerencie acessos, funções e permissões dos usuários.',
                addUser: 'Adicionar Usuário',
                totalUsers: 'Total de Usuários',
                activeNow: 'Ativos Agora',
                messagesToday: 'Mensagens Hoje',
                networkDevices: 'Dispositivos de Rede',
                searchUsers: 'Buscar por nome, email ou função...',
                user: 'Usuário',
                role: 'Função',
                status: 'Status',
                lastActive: 'Última Atividade',
                actions: 'Ações',
                active: 'Ativo',
                inactive: 'Inativo',
                showing: 'Exibindo',
                to: 'até',
                of: 'de',
                users: 'usuários',
                addNewUser: 'Adicionar Novo Usuário',
                editUser: 'Editar Usuário',
                username: 'Nome de Usuário',
                email: 'Email',
                fullName: 'Nome Completo',
                password: 'Senha',
                department: 'Departamento',
                position: 'Cargo',
                createUser: 'Criar Usuário',
                saveChanges: 'Salvar Alterações',
                creating: 'Criando...',
                saving: 'Salvando...',
                confirmDelete: 'Tem certeza que deseja desativar este usuário?',
                justNow: 'Agora mesmo',
                minsAgo: 'min atrás',
                hoursAgo: 'horas atrás',
                daysAgo: 'dias atrás',
                never: 'Nunca'
            }
        },
        es: {
            nav: {
                chat: 'Mensajes',
                network: 'Red',
                settings: 'Ajustes',
                admin: 'Admin',
                scanner: 'Escáner',
                scannerTools: 'Herramientas de Red',
                viewAll: 'Ver todos los dispositivos'
            },
            chat: {
                title: 'Mensajes',
                search: 'Buscar conversaciones...',
                noConversations: 'No hay conversaciones',
                selectConversation: 'Selecciona una conversación',
                typeMessage: 'Escribe un mensaje...',
                send: 'Enviar',
                newChat: 'Nuevo Chat',
                userSearch: 'Buscar usuario...',
                noUsers: 'No se encontraron usuarios',
                online: 'En línea',
                now: 'Ahora'
            },
            settings: {
                title: 'Ajustes',
                subtitle: 'Gestiona tu perfil y apariencia.',
                personalInfo: 'Información Personal',
                notifications: 'Notificaciones',
                appearance: 'Apariencia',
                save: 'Guardar Cambios',
                saving: 'Guardando...',
                logout: 'Cerrar Sesión',
                displayName: 'Nombre',
                email: 'Correo',
                department: 'Departamento',
                position: 'Cargo',
                desktopNotif: 'Notificaciones',
                desktopNotifDesc: 'Mostrar alertas de mensajes',
                soundEffects: 'Sonidos',
                soundEffectsDesc: 'Reproducir sonido al recibir mensaje',
                theme: 'Tema',
                language: 'Idioma',
                themes: {
                    dark: 'Oscuro',
                    light: 'Claro',
                    system: 'Sistema'
                }
            },
            profile: {
                connected: 'CONECTADO',
                change: 'Cambiar',
                verified: 'Verificado',
                security: '2FA Activado',
                status: 'Estado',
                saveChanges: 'Guardar Cambios',
                darkMode: 'Modo Oscuro',
                darkDescription: 'Cómodo para los ojos',
                lightDescription: 'Claro y nítido'
            },
            auth: {
                logout: 'Cerrar Sesión'
            },
            login: {
                title: 'Enterprise Connect',
                subtitle: 'Acceso Seguro LAN Messenger',
                username: 'ID Empleado / Usuario',
                password: 'Password',
                remember: 'Recuérdame',
                forgot: '¿Olvidaste tu contraseña?',
                signin: 'Iniciar Sesión',
                contact: 'Contactar Soporte TI',
                secure: 'Entorno Seguro',
                error: 'Por favor ingrese usuario y contraseña'
            },
            network: {
                title: 'Descubrimiento de Red',
                scan: 'Escanear Red',
                scanning: 'Escaneando...',
                devices: 'Dispositivos Encontrados',
                total: 'Total Dispositivos',
                online: 'En Línea Ahora',
                latency: 'Latencia Media',
                filterOnline: 'Solo En Línea',
                search: 'Buscar dispositivos...',
                hostname: 'Nombre de Host',
                ip: 'Dirección IP',
                mac: 'Dirección MAC',
                status: 'Estado',
                action: 'Acción',
                linkUser: 'Vincular Usuario',
                unlink: 'Desvincular',
                unknown: 'Dispositivo Desconocido'
            },
            admin: {
                title: 'Gestión de Usuarios',
                subtitle: 'Gestiona accesos, roles y permisos de usuarios.',
                addUser: 'Agregar Usuario',
                totalUsers: 'Total Usuarios',
                activeNow: 'Activos Ahora',
                messagesToday: 'Mensajes Hoy',
                networkDevices: 'Dispositivos de Red',
                searchUsers: 'Buscar por nombre, email o rol...',
                user: 'Usuario',
                role: 'Rol',
                status: 'Estado',
                lastActive: 'Última Actividad',
                actions: 'Acciones',
                active: 'Activo',
                inactive: 'Inactivo',
                showing: 'Mostrando',
                to: 'a',
                of: 'de',
                users: 'usuarios',
                addNewUser: 'Agregar Nuevo Usuario',
                editUser: 'Editar Usuario',
                username: 'Nombre de Usuario',
                email: 'Email',
                fullName: 'Nombre Completo',
                password: 'Contraseña',
                department: 'Departamento',
                position: 'Cargo',
                createUser: 'Crear Usuario',
                saveChanges: 'Guardar Cambios',
                creating: 'Creando...',
                saving: 'Guardando...',
                confirmDelete: '¿Está seguro que desea desactivar este usuario?',
                justNow: 'Ahora mismo',
                minsAgo: 'min atrás',
                hoursAgo: 'horas atrás',
                daysAgo: 'días atrás',
                never: 'Nunca'
            }
        }
    }

    const t = computed(() => {
        return translations[currentLang.value] || translations['en']
    })

    function setLanguage(lang) {
        if (translations[lang]) {
            currentLang.value = lang
            localStorage.setItem('language', lang)
        }
    }

    return {
        currentLang,
        t,
        setLanguage
    }
})
